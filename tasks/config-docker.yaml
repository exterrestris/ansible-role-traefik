---
- name: generate docker-compose
  ansible.builtin.template:
    src: docker-compose.yaml.j2
    dest: "{{ traefik_docker_compose }}/docker-compose.yaml"

- name: pull docker image
  community.docker.docker_image:
    name: "{{ traefik_docker_image }}"
    source: pull

- name: traefik docker start
  community.docker.docker_compose:
    state: present
    project_src: "{{ traefik_docker_compose }}"
